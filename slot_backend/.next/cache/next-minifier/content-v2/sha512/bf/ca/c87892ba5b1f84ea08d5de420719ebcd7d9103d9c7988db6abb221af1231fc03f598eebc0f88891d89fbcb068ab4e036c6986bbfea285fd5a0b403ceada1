{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{LVkD:function(e,t,a){\"use strict\";var n=a(\"1OyB\"),r=a(\"vuIU\"),i=a(\"Ji7U\"),s=a(\"md7G\"),o=a(\"foSv\"),l=a(\"q1tI\"),c=a.n(l).a.createElement;function d(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(o.a)(e);if(t){var r=Object(o.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(s.a)(this,a)}}l.Component},MkKJ:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/game_bands/edit\",function(){return a(\"pvub\")}])},pvub:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return C}));var n=a(\"o0o1\"),r=a.n(n),i=a(\"HaE+\"),s=a(\"1OyB\"),o=a(\"vuIU\"),l=a(\"JX7q\"),c=a(\"Ji7U\"),d=a(\"md7G\"),u=a(\"foSv\"),g=a(\"rePB\"),b=a(\"4q6W\"),h=(a(\"YFqc\"),a(\"q1tI\")),m=a.n(h),p=a(\"nOHt\"),f=a.n(p),v=a(\"p46w\"),_=a.n(v),y=a(\"hryD\"),k=a(\"baXo\"),w=a.n(k),S=(a(\"LVkD\"),m.a.createElement);function N(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var r=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(d.a)(this,a)}}var C=function(e){Object(c.a)(a,e);var t=N(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),Object(g.a)(Object(l.a)(n),\"handleSwitchChange\",(function(e){return function(){var t=\"switch\".concat(e);n.setState(Object(g.a)({},t,!n.state[t]))}})),n.state={brand_code:\"\",brand_name:\"\",brand_banner:\"\",brand_key:\"\",brand_img:\"\",original_brand_img:\"\",brand_status:\"\",play_url:\"\",switch1:!0,errorMessage:\"\",datas:[],role_data:[],mydatas:{},value:\"Master\",image:\"\",imagePreviewUrl:y.e.imageshow(\"1594692624651-no-image-available.png\"),file:\"\",Brandid:_.a.get(\"brandId\")},n.onFileChange=n.onFileChange.bind(Object(l.a)(n)),n.handleSelectChange=n.handleSelectChange.bind(Object(l.a)(n)),n.handleToggleChange=n.handleToggleChange.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.setErrorMsg=n.setErrorMsg.bind(Object(l.a)(n)),n.onClick=n.onClick.bind(Object(l.a)(n)),n.onConfirmClick=n.onConfirmClick.bind(Object(l.a)(n)),n.handleResetSubmit=n.handleResetSubmit.bind(Object(l.a)(n)),n.onSearchLevel=n.onSearchLevel.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:\"onFileChange\",value:function(e){var t=this,a=e.target.files[0],n=new FileReader;a?(n.onloadend=function(){t.setState({file:a,imagePreviewUrl:n.result})},n.readAsDataURL(a)):this.setState({imagePreviewUrl:y.e.imageshow(\"1594692624651-no-image-available.png\")})}},{key:\"onSearchLevel\",value:function(e){return console.log(\"get myrole\"),this.state.role_data.filter((function(t){return t.user_level_name==e})).map((function(e,t){return e.user_level_id}))[0]}},{key:\"onClick\",value:function(){this.dialog.showAlert(\"Hello Dialog!\")}},{key:\"handleResetSubmit\",value:function(){f.a.push(\"/game_bands\")}},{key:\"onConfirmClick\",value:function(){this.dialog.show({title:\"Spiderbot confirm\",body:\"Are you sure?\",actions:[w.a.CancelAction((function(){dialog.hide()})),w.a.OKAction((function(){}))],bsSize:\"small\",onHide:function(e){e.hide(),console.log(\"closed by clicking background.\")}})}},{key:\"EditBrand\",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,this.state.switch1&&(t=1),a={brand_code:this.state.brand_code,brand_name:this.state.brand_name,brand_banner:this.state.brand_img,brand_key:this.state.brand_key,brand_img:this.state.brand_img,brand_status:t,play_url:this.state.play_url,original_brand_img:this.state.original_brand_img},console.log(\"Add brand start...\"),e.next=6,y.b.editBrands(a,this.state.Brandid);case 6:n=e.sent,console.log(\"res : \"+n.data),2e3===n.data.status?(console.log(\"Edit Brand Success!!!\"),this.dialog.show({title:\"Slot Admin information\",body:\"\\u0e1a\\u0e31\\u0e19\\u0e17\\u0e36\\u0e01\\u0e01\\u0e32\\u0e23\\u0e41\\u0e01\\u0e49\\u0e44\\u0e02 brand : \"+this.state.brand_name+\" \\u0e40\\u0e23\\u0e35\\u0e22\\u0e1a\\u0e23\\u0e49\\u0e2d\\u0e22\\u0e41\\u0e25\\u0e49\\u0e27\",actions:[w.a.OKAction((function(){f.a.push(\"/game_bands\")}))]})):(this.dialog.showAlert(n.data.message),this.setErrorMsg(n.data.msg));case 9:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"handleSubmit\",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"\"===this.state.brand_code||\"\"===this.state.brand_name||\"\"===this.state.brand_key){e.next=14;break}if(!this.state.file){e.next=11;break}return(t=new FormData).append(\"file\",this.state.file),e.next=7,y.e.imageUpload(t);case 7:2e3===(a=e.sent).data.status?(n=a.data.data.filename,console.log(\"image file name : \"+n),this.setState({brand_img:n}),this.EditBrand()):this.dialog.showAlert(\"\\u0e1a\\u0e31\\u0e19\\u0e17\\u0e36\\u0e01\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25 Brand \\u0e44\\u0e21\\u0e48\\u0e2a\\u0e33\\u0e40\\u0e23\\u0e47\\u0e08 \\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e15\\u0e23\\u0e27\\u0e08\\u0e2a\\u0e2d\\u0e1a\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25\\u0e1a\\u0e31\\u0e19\\u0e17\\u0e36\\u0e01\\u0e43\\u0e2b\\u0e21\\u0e48\\u0e2d\\u0e35\\u0e01\\u0e04\\u0e23\\u0e31\\u0e49\\u0e07!!!\"),e.next=12;break;case 11:this.EditBrand();case 12:e.next=15;break;case 14:this.dialog.showAlert(\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e43\\u0e2a\\u0e48\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25\\u0e43\\u0e2b\\u0e49\\u0e04\\u0e23\\u0e1a \\u0e01\\u0e48\\u0e2d\\u0e19\\u0e01\\u0e14\\u0e1b\\u0e38\\u0e48\\u0e21 Save!\");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(\"An unexpected error happened occurred:\",e.t0),this.setErrorMsg(e.t0.message);case 21:case\"end\":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:\"handleSelectChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({agent_type:e.target.value})}},{key:\"handleToggleChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({user_enable:e.target.value})}},{key:\"setErrorMsg\",value:function(e){console.log(e),this.setState({errorMessage:e})}},{key:\"componentDidMount\",value:function(){var e=this;_.a.get(\"user\")||f.a.push(\"/\"),console.log(\"Brand id =>\"+this.state.Brandid),y.b.getBrandsFromId(this.state.Brandid).then((function(t){var a=t.data,n=a.data;if(2e3===a.status){console.log(\"edit data =>\"+JSON.stringify(n));var r=n[0],i=r.brand_name,s=r.brand_code,o=r.brand_banner,l=r.brand_key,c=r.brand_img,d=r.brand_status,u=r.play_url;\"\"!==c?e.setState({imagePreviewUrl:y.e.imageshow(c)}):e.setState({imagePreviewUrl:y.e.imageshow(\"1594692624651-no-image-available.png\")}),e.setState({brand_name:i,brand_code:s,brand_banner:o,brand_key:l,play_url:u,brand_img:c,original_brand_img:c,switch1:Boolean(Number(d))})}else e.setErrorMsg(t.data.message),e.dialog.showAlert(t.data.message)}))}},{key:\"render\",value:function(){var e=this;S(\"div\",{className:\"toggle-switch\"},S(\"input\",{type:\"checkbox\",\"data-toggle\":\"toggle\",\"data-on\":\"Ready\",\"data-off\":\"Not Ready\",\"data-onstyle\":\"success\",\"data-offstyle\":\"danger\"}));return S(b.a,{contentTitle:\"Edit Brand\",contentTitleButton:S(\"i\",{className:\"fa fa-2x fa-cubes\"}),url:this.props.url},S(\"div\",{className:\"offset-md-0\"},S(\"div\",{className:\"card\"},S(\"div\",{className:\"card-header\"}),S(\"form\",{className:\"form-horizontal\"},S(\"div\",{className:\"card-body\"},S(\"div\",{className:\"input-group mb-3 input-group-sm\"},S(\"div\",{className:\"input-group-prepend\"},S(\"span\",{className:\"input-group-text\"},\"brand code\")),S(\"input\",{type:\"text\",className:\"form-control\",id:\"validation-ex1\",onChange:function(t){return e.setState({brand_code:t.target.value})},value:this.state.brand_code,required:!0})),S(\"div\",{className:\"input-group mb-3 input-group-sm\"},S(\"div\",{className:\"input-group-prepend\"},S(\"span\",{className:\"input-group-text\"},\"brand name\")),S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex2\",onChange:function(t){return e.setState({brand_name:t.target.value})},value:this.state.brand_name,required:!0})),S(\"div\",{className:\"input-group mb-3 input-group-sm\"},S(\"div\",{className:\"input-group-prepend\"},S(\"span\",{className:\"input-group-text\"},\"brand api key\")),S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex4\",onChange:function(t){return e.setState({brand_key:t.target.value})},value:this.state.brand_key,required:!0})),S(\"div\",{className:\"input-group mb-3 input-group-sm\"},S(\"div\",{className:\"input-group-prepend\"},S(\"span\",{className:\"input-group-text\"},\"play url\")),S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex5\",onChange:function(t){return e.setState({play_url:t.target.value})},value:this.state.play_url,required:!0})),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"div\",{class:\"card\"},S(\"div\",{class:\"card-body\"},S(\"div\",{className:\"form-group\"},S(\"h5\",null,\"Logo File Upload\"),S(\"br\",null),S(\"img\",{src:this.state.imagePreviewUrl,style:{flex:1,width:\"150px\",height:null,resizeMode:\"contain\"}})),S(\"div\",{className:\"form-group mt-10\"},S(\"input\",{type:\"file\",onChange:this.onFileChange})))))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"label\",{className:\"control-label\"},\"Brand status\\xa0\\xa0\\xa0\\xa0\"),S(\"label\",{class:\"switch\"},S(\"input\",{type:\"checkbox\",onChange:this.handleSwitchChange(1),checked:this.state.switch1}),S(\"span\",{class:\"slider round\"})),S(\"label\",{className:\"control-label\"},\"\\xa0\\xa0Enabled\"))))),S(\"div\",{className:\"card-footer\"},S(\"div\",{className:\"d-inline-block btn-block\"},S(\"button\",{className:\"btn btn-danger\",onClick:this.handleResetSubmit},\"Back\"),S(\"button\",{className:\"btn btn-info float-right\",onClick:this.handleSubmit},\"Save\")))),S(w.a,{ref:function(t){e.dialog=t}})))}}]),a}(m.a.Component)},rePB:function(e,t,a){\"use strict\";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,\"a\",(function(){return n}))}},[[\"MkKJ\",0,2,4,1,3,5,6]]]);","extractedComments":[]}