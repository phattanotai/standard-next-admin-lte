{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{jaXj:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/agents/edit\",function(){return a(\"ysQD\")}])},rePB:function(e,t,a){\"use strict\";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,\"a\",(function(){return n}))},ysQD:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return w}));var n=a(\"o0o1\"),s=a.n(n),i=a(\"HaE+\"),o=a(\"1OyB\"),r=a(\"vuIU\"),l=a(\"JX7q\"),c=a(\"Ji7U\"),g=a(\"md7G\"),u=a(\"foSv\"),d=a(\"rePB\"),_=a(\"4q6W\"),f=(a(\"YFqc\"),a(\"q1tI\")),p=a.n(f),m=a(\"nOHt\"),h=a.n(m),v=a(\"p46w\"),N=a.n(v),b=a(\"hryD\"),y=a(\"baXo\"),k=a.n(y),S=p.a.createElement;function x(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var s=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Object(g.a)(this,a)}}var w=function(e){Object(c.a)(a,e);var t=x(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),Object(d.a)(Object(l.a)(n),\"handleSwitchChange\",(function(e){return function(){var t=\"switch\".concat(e);n.setState(Object(d.a)({},t,!n.state[t]))}})),n.state={agent_code:\"\",agent_lineup:\"\",agent_name:\"\",agent_detail:\"\",agent_website:\"\",agent_master:\"\",agent_type:\"\",agent_percent:\"\",agent_percent_aff:\"\",agent_percent_aff2:\"\",agent_percent_aff3:\"\",agent_percent_aff4:\"\",agent_percent_aff5:\"\",agent_comm:\"\",agent_line_ad:\"\",agent_line_token1:\"\",agent_line_token2:\"\",agent_line_token3:\"\",agent_api_user:\"\",agent_api_password:\"\",agent_api_key:\"\",withdraw_auto:\"\",agent_status:\"\",switch1:!0,agentid:N.a.get(\"agentid\"),errorMessage:\"\",datas:[],role_data:[],mydatas:{},value:\"Master\"},n.handleSelectChange=n.handleSelectChange.bind(Object(l.a)(n)),n.handleToggleChange=n.handleToggleChange.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.setErrorMsg=n.setErrorMsg.bind(Object(l.a)(n)),n.onClick=n.onClick.bind(Object(l.a)(n)),n.onConfirmClick=n.onConfirmClick.bind(Object(l.a)(n)),n.handleResetSubmit=n.handleResetSubmit.bind(Object(l.a)(n)),n.onSearchLevel=n.onSearchLevel.bind(Object(l.a)(n)),n}return Object(r.a)(a,[{key:\"onSearchLevel\",value:function(e){return console.log(\"get myrole\"),this.state.role_data.filter((function(t){return t.user_level_name==e})).map((function(e,t){return e.user_level_id}))[0]}},{key:\"onClick\",value:function(){this.dialog.showAlert(\"Hello Dialog!\")}},{key:\"handleResetSubmit\",value:function(){h.a.push(\"/agents\")}},{key:\"onConfirmClick\",value:function(){this.dialog.show({title:\"Spiderbot confirm\",body:\"Are you sure?\",actions:[k.a.CancelAction((function(){dialog.hide()})),k.a.OKAction((function(){}))],bsSize:\"small\",onHide:function(e){e.hide(),console.log(\"closed by clicking background.\")}})}},{key:\"handleSubmit\",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"\"===this.state.agent_code||!this.state.agent_name){e.next=12;break}return t=0,this.state.switch1&&(t=1),a={agent_code:this.state.agent_code,agent_lineup:this.state.agent_lineup,agent_name:this.state.agent_name,agent_detail:this.state.agent_detail,agent_website:this.state.agent_website,agent_master:this.state.agent_master,agent_type:this.state.agent_type,agent_percent:this.state.agent_percent,agent_percent_aff:this.state.agent_percent_aff,agent_percent_aff2:this.state.agent_percent_aff2,agent_percent_aff3:this.state.agent_percent_aff3,agent_percent_aff4:this.state.agent_percent_aff4,agent_percent_aff5:this.state.agent_percent_aff5,agent_comm:this.state.agent_comm,agent_line_ad:this.state.agent_line_ad,agent_line_token1:this.state.agent_line_token1,agent_line_token2:this.state.agent_line_token2,agent_line_token3:this.state.agent_line_token3,agent_api_user:this.state.agent_api_user,agent_api_password:this.state.agent_api_password,agent_api_key:this.state.agent_api_key,agent_status:t},e.next=7,b.a.editAgent(a,this.state.agentid);case 7:n=e.sent,console.log(\"res : \"+n.data),2e3===n.data.status?(console.log(\"Edit Agent Success!!!\"),this.dialog.show({title:\"Slot Admin information\",body:\"Edit a agent : \"+a.agent_code+\" to system is successfully.\",actions:[k.a.OKAction((function(){h.a.push(\"/agents\")}))]})):(this.dialog.showAlert(n.data.message),this.setErrorMsg(n.data.msg)),e.next=13;break;case 12:this.dialog.showAlert(\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e43\\u0e2a\\u0e48\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25\\u0e43\\u0e2b\\u0e49\\u0e04\\u0e23\\u0e1a \\u0e01\\u0e48\\u0e2d\\u0e19\\u0e01\\u0e14\\u0e1b\\u0e38\\u0e48\\u0e21 Save!\");case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),this.dialog.showAlert(e.t0),console.error(\"An unexpected error happened occurred:\",e.t0),this.setErrorMsg(e.t0.message);case 20:case\"end\":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:\"handleSelectChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({agent_type:e.target.value})}},{key:\"handleToggleChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({user_enable:e.target.value})}},{key:\"setErrorMsg\",value:function(e){console.log(e),this.setState({errorMessage:e})}},{key:\"componentDidMount\",value:function(){var e=this;N.a.get(\"user\")||h.a.push(\"/\"),b.a.getAgentFromId(this.state.agentid).then((function(t){var a=t.data,n=a.data;if(2e3===a.status){console.log(\"edit data =>\"+JSON.stringify(n));var s=n[0],i=s.agent_code,o=s.agent_lineup,r=s.agent_name,l=s.agent_detail,c=s.agent_website,g=s.agent_master,u=s.agent_type,d=s.agent_percent,_=s.agent_percent_aff,f=s.agent_percent_aff2,p=s.agent_percent_aff3,m=s.agent_percent_aff4,h=s.agent_percent_aff5,v=s.agent_comm,N=s.agent_line_ad,b=s.agent_line_token1,y=s.agent_line_token2,k=s.agent_line_token3,S=s.agent_api_user,x=s.agent_api_password,w=s.agent_api_key,C=s.agent_status;e.setState({agent_code:i,agent_lineup:o,agent_name:r,agent_detail:l,agent_website:c,agent_master:g,agent_type:u,agent_percent:d,agent_percent_aff:_,agent_percent_aff2:f,agent_percent_aff3:p,agent_percent_aff4:m,agent_percent_aff5:h,agent_comm:v,agent_line_ad:N,agent_line_token1:b,agent_line_token2:y,agent_line_token3:k,agent_api_user:S,agent_api_password:x,agent_api_key:w,switch1:Boolean(Number(C))})}else e.setErrorMsg(t.data.message),e.dialog.showAlert(t.data.message)}))}},{key:\"render\",value:function(){var e=this;S(\"div\",{className:\"toggle-switch\"},S(\"input\",{type:\"checkbox\",\"data-toggle\":\"toggle\",\"data-on\":\"Ready\",\"data-off\":\"Not Ready\",\"data-onstyle\":\"success\",\"data-offstyle\":\"danger\"}));return S(_.a,{contentTitle:\"Edit Agents\",contentTitleButton:S(\"i\",{className:\"fa fa-2x fa-id-badge\"}),url:this.props.url},S(\"div\",{className:\"offset-md-0\"},S(\"div\",{className:\"card\"},S(\"div\",{className:\"card-header\"}),S(\"form\",{className:\"form-horizontal\"},S(\"div\",{className:\"card-body\"},S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"agent code\",id:\"validation-ex1\",onChange:function(t){return e.setState({agent_code:t.target.value})},value:this.state.agent_code,required:!0,disabled:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex2\",placeholder:\"agent lineup\",onChange:function(t){return e.setState({agent_lineup:t.target.value})},value:this.state.agent_lineup,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex3\",placeholder:\"agent name\",onChange:function(t){return e.setState({agent_name:t.target.value})},value:this.state.agent_name,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex4\",placeholder:\"agent detail\",onChange:function(t){return e.setState({agent_detail:t.target.value})},value:this.state.agent_detail,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex5\",placeholder:\"agent website\",onChange:function(t){return e.setState({agent_website:t.target.value})},value:this.state.agent_website,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex6\",placeholder:\"agent master\",onChange:function(t){return e.setState({agent_master:t.target.value})},value:this.state.agent_master,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"label\",{htmlFor:\"select-1\",className:\"col-sm-12 control-label\"},\"Select agent type\"),S(\"div\",{className:\"col-sm-offset-2 col-sm-12\"},S(\"select\",{id:\"select-1\",className:\"form-control\",value:this.state.agent_type,onChange:this.handleSelectChange},S(\"option\",{value:\"Master\"},\"Master\"),S(\"option\",{value:\"Agent\"},\"Agent\")))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex7\",placeholder:\"agent percent\",onChange:function(t){return e.setState({agent_percent:t.target.value})},value:this.state.agent_percent,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex8\",placeholder:\"agent percent aff\",onChange:function(t){return e.setState({agent_percent_aff:t.target.value})},value:this.state.agent_percent_aff,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex9\",placeholder:\"agent percent aff2\",onChange:function(t){return e.setState({agent_percent_aff2:t.target.value})},value:this.state.agent_percent_aff2,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex10\",placeholder:\"agent percent aff3\",onChange:function(t){return e.setState({agent_percent_aff3:t.target.value})},value:this.state.agent_percent_aff3,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex11\",placeholder:\"agent percent aff4\",onChange:function(t){return e.setState({agent_percent_aff4:t.target.value})},value:this.state.agent_percent_aff4,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex12\",placeholder:\"agent percent aff5\",onChange:function(t){return e.setState({agent_percent_aff5:t.target.value})},value:this.state.agent_percent_aff5,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex13\",placeholder:\"agent comm\",onChange:function(t){return e.setState({agent_comm:t.target.value})},value:this.state.agent_comm,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex14\",placeholder:\"agent line ad\",onChange:function(t){return e.setState({agent_line_ad:t.target.value})},value:this.state.agent_line_ad,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex15\",placeholder:\"agent line token1\",onChange:function(t){return e.setState({agent_line_token1:t.target.value})},value:this.state.agent_line_token1,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex16\",placeholder:\"agent line token2\",onChange:function(t){return e.setState({agent_line_token2:t.target.value})},value:this.state.agent_line_token2,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex16\",placeholder:\"agent line token3\",onChange:function(t){return e.setState({agent_line_token3:t.target.value})},value:this.state.agent_line_token3,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex17\",placeholder:\"agent api user\",onChange:function(t){return e.setState({agent_api_user:t.target.value})},value:this.state.agent_api_user,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex18\",placeholder:\"agent api password\",onChange:function(t){return e.setState({agent_api_password:t.target.value})},value:this.state.agent_api_password,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex19\",placeholder:\"agent api key\",onChange:function(t){return e.setState({agent_api_key:t.target.value})},value:this.state.agent_api_key,required:!0}))),S(\"div\",{className:\"form-group\"},S(\"div\",{className:\"col-sm-12\"},S(\"label\",{className:\"control-label\"},\"Agent status\\xa0\\xa0\\xa0\\xa0\"),S(\"label\",{class:\"switch\"},S(\"input\",{type:\"checkbox\",onChange:this.handleSwitchChange(1),checked:this.state.switch1}),S(\"span\",{class:\"slider round\"})),S(\"label\",{className:\"control-label\"},\"\\xa0\\xa0Enabled\"))))),S(\"div\",{className:\"card-footer\"},S(\"div\",{className:\"d-inline-block btn-block\"},S(\"button\",{className:\"btn btn-danger\",onClick:this.handleResetSubmit},\"Back\"),S(\"button\",{className:\"btn btn-info float-right\",onClick:this.handleSubmit},\"Save\")))),S(k.a,{ref:function(t){e.dialog=t}})))}}]),a}(p.a.Component)}},[[\"jaXj\",0,2,4,1,3,5,6]]]);","extractedComments":[]}