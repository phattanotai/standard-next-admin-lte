{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{rePB:function(e,t,a){\"use strict\";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,\"a\",(function(){return n}))},szGa:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/agents/add\",function(){return a(\"ycKi\")}])},ycKi:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return C}));var n=a(\"o0o1\"),s=a.n(n),i=a(\"HaE+\"),r=a(\"1OyB\"),o=a(\"vuIU\"),u=a(\"JX7q\"),l=a(\"Ji7U\"),p=a(\"md7G\"),c=a(\"foSv\"),g=a(\"rePB\"),d=a(\"4q6W\"),m=(a(\"YFqc\"),a(\"q1tI\")),_=a.n(m),f=a(\"nOHt\"),h=a.n(f),v=a(\"p46w\"),N=a.n(v),b=a(\"hryD\"),x=a(\"baXo\"),y=a.n(x),k=_.a.createElement;function S(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}var C=function(e){Object(l.a)(a,e);var t=S(a);function a(e){var n;return Object(r.a)(this,a),n=t.call(this,e),Object(g.a)(Object(u.a)(n),\"handleSwitchChange\",(function(e){return function(){var t=\"switch\".concat(e);n.setState(Object(g.a)({},t,!n.state[t]))}})),n.state={agent_code:\"\",agent_lineup:\"\",agent_name:\"\",agent_detail:\"\",agent_website:\"\",agent_master:\"\",agent_type:\"Master\",agent_percent:\"\",agent_percent_aff:\"\",agent_percent_aff2:\"\",agent_percent_aff3:\"\",agent_percent_aff4:\"\",agent_percent_aff5:\"\",agent_comm:\"\",agent_line_ad:\"\",agent_line_token1:\"\",agent_line_token2:\"\",agent_line_token3:\"\",agent_api_user:\"\",agent_api_password:\"\",agent_api_key:\"\",withdraw_auto:\"\",agent_status:\"\",switch1:!0,errorMessage:\"\",datas:[],role_data:[],mydatas:{},value:\"Master\"},n.handleSelectChange=n.handleSelectChange.bind(Object(u.a)(n)),n.handleToggleChange=n.handleToggleChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.setErrorMsg=n.setErrorMsg.bind(Object(u.a)(n)),n.onClick=n.onClick.bind(Object(u.a)(n)),n.onConfirmClick=n.onConfirmClick.bind(Object(u.a)(n)),n.handleResetSubmit=n.handleResetSubmit.bind(Object(u.a)(n)),n.onSearchLevel=n.onSearchLevel.bind(Object(u.a)(n)),n}return Object(o.a)(a,[{key:\"onSearchLevel\",value:function(e){return console.log(\"get myrole\"),this.state.role_data.filter((function(t){return t.user_level_name==e})).map((function(e,t){return e.user_level_id}))[0]}},{key:\"onClick\",value:function(){this.dialog.showAlert(\"Hello Dialog!\")}},{key:\"handleResetSubmit\",value:function(){h.a.push(\"/agents\")}},{key:\"onConfirmClick\",value:function(){this.dialog.show({title:\"Spiderbot confirm\",body:\"Are you sure?\",actions:[y.a.CancelAction((function(){dialog.hide()})),y.a.OKAction((function(){}))],bsSize:\"small\",onHide:function(e){e.hide(),console.log(\"closed by clicking background.\")}})}},{key:\"handleSubmit\",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"\"===this.state.agent_code||!this.state.agent_name){e.next=12;break}return t=0,this.state.switch1&&(t=1),a={agent_code:this.state.agent_code,agent_lineup:this.state.agent_lineup,agent_name:this.state.agent_name,agent_detail:this.state.agent_detail,agent_website:this.state.agent_website,agent_master:this.state.agent_master,agent_type:this.state.agent_type,agent_percent:this.state.agent_percent,agent_percent_aff:this.state.agent_percent_aff,agent_percent_aff2:this.state.agent_percent_aff2,agent_percent_aff3:this.state.agent_percent_aff3,agent_percent_aff4:this.state.agent_percent_aff4,agent_percent_aff5:this.state.agent_percent_aff5,agent_comm:this.state.agent_comm,agent_line_ad:this.state.agent_line_ad,agent_line_token1:this.state.agent_line_token1,agent_line_token2:this.state.agent_line_token2,agent_line_token3:this.state.agent_line_token3,agent_api_user:this.state.agent_api_user,agent_api_password:this.state.agent_api_password,agent_api_key:this.state.agent_api_key,agent_status:t},e.next=7,b.a.createAgent(a);case 7:n=e.sent,console.log(\"res : \"+n.data),2e3===n.data.status?(console.log(\"Add Agent Success!!!\"),this.dialog.show({title:\"Slot Admin information\",body:\"Add a agent : \"+a.agent_code+\" to system is successfully.\",actions:[y.a.OKAction((function(){h.a.push(\"/agents\")}))]})):(this.dialog.showAlert(n.data.message),this.setErrorMsg(n.data.msg)),e.next=13;break;case 12:this.dialog.showAlert(\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e43\\u0e2a\\u0e48\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25\\u0e43\\u0e2b\\u0e49\\u0e04\\u0e23\\u0e1a \\u0e01\\u0e48\\u0e2d\\u0e19\\u0e01\\u0e14\\u0e1b\\u0e38\\u0e48\\u0e21 Save!\");case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),this.dialog.showAlert(e.t0),console.error(\"An unexpected error happened occurred:\",e.t0),this.setErrorMsg(e.t0.message);case 20:case\"end\":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:\"handleSelectChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({agent_type:e.target.value})}},{key:\"handleToggleChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({user_enable:e.target.value})}},{key:\"setErrorMsg\",value:function(e){console.log(e),this.setState({errorMessage:e})}},{key:\"componentDidMount\",value:function(){N.a.get(\"user\")||h.a.push(\"/\")}},{key:\"render\",value:function(){var e=this;k(\"div\",{className:\"toggle-switch\"},k(\"input\",{type:\"checkbox\",\"data-toggle\":\"toggle\",\"data-on\":\"Ready\",\"data-off\":\"Not Ready\",\"data-onstyle\":\"success\",\"data-offstyle\":\"danger\"}));return k(d.a,{contentTitle:\"Add Agents\",contentTitleButton:k(\"i\",{className:\"fa fa-2x fa-id-badge\"}),url:this.props.url},k(\"div\",{className:\"offset-md-0\"},k(\"div\",{className:\"card\"},k(\"div\",{className:\"card-header\"}),k(\"form\",{className:\"form-horizontal\"},k(\"div\",{className:\"card-body\"},k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent code\")),k(\"input\",{type:\"text\",className:\"form-control\",id:\"validation-ex1\",onChange:function(t){return e.setState({agent_code:t.target.value})},value:this.state.agent_code,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent lineup\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex2\",onChange:function(t){return e.setState({agent_lineup:t.target.value})},value:this.state.agent_lineup,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent name\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex3\",onChange:function(t){return e.setState({agent_name:t.target.value})},value:this.state.agent_name,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent detail\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex4\",onChange:function(t){return e.setState({agent_detail:t.target.value})},value:this.state.agent_detail,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent website\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex5\",onChange:function(t){return e.setState({agent_website:t.target.value})},value:this.state.agent_website,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent master\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex6\",onChange:function(t){return e.setState({agent_master:t.target.value})},value:this.state.agent_master,required:!0})),k(\"div\",{className:\"form-group\"},k(\"label\",{htmlFor:\"select-1\",className:\"col-sm-12 control-label\"},\"Select agent type\"),k(\"div\",{className:\"col-sm-offset-2 col-sm-12\"},k(\"select\",{id:\"select-1\",className:\"form-control\",value:this.state.agent_type,onChange:this.handleSelectChange},k(\"option\",{value:\"Master\"},\"Master\"),k(\"option\",{value:\"Agent\"},\"Agent\")))),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent percent\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex7\",onChange:function(t){return e.setState({agent_percent:t.target.value})},value:this.state.agent_percent,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent percent aff\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex8\",onChange:function(t){return e.setState({agent_percent_aff:t.target.value})},value:this.state.agent_percent_aff,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent percent aff2\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex9\",onChange:function(t){return e.setState({agent_percent_aff2:t.target.value})},value:this.state.agent_percent_aff2,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent percent aff3\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex10\",onChange:function(t){return e.setState({agent_percent_aff3:t.target.value})},value:this.state.agent_percent_aff3,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent percent aff4\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex11\",onChange:function(t){return e.setState({agent_percent_aff4:t.target.value})},value:this.state.agent_percent_aff4,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent percent aff5\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex12\",onChange:function(t){return e.setState({agent_percent_aff5:t.target.value})},value:this.state.agent_percent_aff5,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent comm\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex13\",onChange:function(t){return e.setState({agent_comm:t.target.value})},value:this.state.agent_comm,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent line ad\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex14\",onChange:function(t){return e.setState({agent_line_ad:t.target.value})},value:this.state.agent_line_ad,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent line token1\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex15\",onChange:function(t){return e.setState({agent_line_token1:t.target.value})},value:this.state.agent_line_token1,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent line token2\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex16\",onChange:function(t){return e.setState({agent_line_token2:t.target.value})},value:this.state.agent_line_token2,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent line token3\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex16\",onChange:function(t){return e.setState({agent_line_token3:t.target.value})},value:this.state.agent_line_token3,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent api user\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex17\",onChange:function(t){return e.setState({agent_api_user:t.target.value})},value:this.state.agent_api_user,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent api password\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex18\",onChange:function(t){return e.setState({agent_api_password:t.target.value})},value:this.state.agent_api_password,required:!0})),k(\"div\",{className:\"input-group mb-3 input-group-sm\"},k(\"div\",{className:\"input-group-prepend\"},k(\"span\",{className:\"input-group-text\"},\"agent api key\")),k(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex19\",onChange:function(t){return e.setState({agent_api_key:t.target.value})},value:this.state.agent_api_key,required:!0})),k(\"div\",{className:\"form-group\"},k(\"div\",{className:\"col-sm-12\"},k(\"label\",{className:\"control-label\"},\"Agent status\\xa0\\xa0\\xa0\\xa0\"),k(\"label\",{class:\"switch\"},k(\"input\",{type:\"checkbox\",onChange:this.handleSwitchChange(1),checked:this.state.switch1}),k(\"span\",{class:\"slider round\"})),k(\"label\",{className:\"control-label\"},\"\\xa0\\xa0Enabled\"))))),k(\"div\",{className:\"card-footer\"},k(\"div\",{className:\"d-inline-block btn-block\"},k(\"button\",{className:\"btn btn-danger\",onClick:this.handleResetSubmit},\"Back\"),k(\"button\",{className:\"btn btn-info float-right\",onClick:this.handleSubmit},\"Save\")))),k(y.a,{ref:function(t){e.dialog=t}})))}}]),a}(_.a.Component)}},[[\"szGa\",0,2,4,1,3,5,6]]]);","extractedComments":[]}