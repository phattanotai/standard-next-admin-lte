{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{Ygeh:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return C}));var n=a(\"o0o1\"),s=a.n(n),r=a(\"HaE+\"),o=a(\"1OyB\"),i=a(\"vuIU\"),l=a(\"JX7q\"),c=a(\"Ji7U\"),u=a(\"md7G\"),d=a(\"foSv\"),g=a(\"rePB\"),m=a(\"4q6W\"),h=(a(\"YFqc\"),a(\"q1tI\")),p=a.n(h),v=a(\"nOHt\"),f=a.n(v),b=a(\"p46w\"),_=a.n(b),S=a(\"hryD\"),N=a(\"baXo\"),w=a.n(N),y=p.a.createElement;function x(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var C=function(e){Object(c.a)(a,e);var t=x(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),Object(g.a)(Object(l.a)(n),\"handleSwitchChange\",(function(e){return function(){var t=\"switch\".concat(e);n.setState(Object(g.a)({},t,!n.state[t]))}})),n.state={user_name:\"\",user_email:\"\",user_pass:\"\",add_date:\"\",user_level:\"3\",user_status:\"\",switch1:!0,walletid:_.a.get(\"walletid\"),errorMessage:\"\",datas:[],role_data:[],mydatas:{},data_service:[],data_agent:[],data_brand:[],data_member:[],brand:\"\",mem:\"\",agent:\"\",isDownLine:!1,game_username:\"\",game_password:\"\",agent_code:\"\",brand_code:\"\",credit:\"0\"},n.handleSelectChange=n.handleSelectChange.bind(Object(l.a)(n)),n.handleToggleChange=n.handleToggleChange.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.setErrorMsg=n.setErrorMsg.bind(Object(l.a)(n)),n.handleResetSubmit=n.handleResetSubmit.bind(Object(l.a)(n)),n.onSearchAgentCode=n.onSearchAgentCode.bind(Object(l.a)(n)),n.handleSelectMemberChange=n.handleSelectMemberChange.bind(Object(l.a)(n)),n.handleSelectBrandChange=n.handleSelectBrandChange.bind(Object(l.a)(n)),n}return Object(i.a)(a,[{key:\"handleSelectBrandChange\",value:function(e){e.preventDefault(),console.log(\"e.target.value =>\"+e.target.value),this.setState({brand:e.target.value})}},{key:\"handleSelectMemberChange\",value:function(e){var t=this;e.preventDefault(),console.log(\"e.target.value =>\"+e.target.value);var a=this.onSearchAgentCode(e.target.value)[0];this.setState({mem:e.target.value,agent_code:a}),S.b.listBrands().then((function(e){console.log(e.data);var n=e.data,s=n.data;if(2e3===n.status){console.log(\"data length : \"+s.length);var r=s,o=t.SearchAgent_LineUp(a)[0];console.log(\"agent_lineup =>\"+o),console.log(\"agent_code =>\"+a),_.a.set(\"serviceagent\",a);var i=\"\";\"\"===o||\"-\"===o?(t.setState({isDownLine:!1}),i=a):(t.setState({isDownLine:!0}),i=o),S.d.listServiceFromAgent(i).then((function(e){console.log(e.data);var a=e.data,n=a.data;if(2e3===a.status){console.log(\"data service length : \"+n.length),t.setState({data_service:n});var s,o=[];for(s=0;s<n.length;s++){var i=r.filter((function(e){return e.brand_code==n[s].brand_code})).map((function(e,t){return e.brand_name}));console.log(\"brand_name : \"+i[0]),o.push({brand_name:i[0],brand_code:n[s].brand_code})}console.log(\"data_brand : \"+JSON.stringify(o)),t.setState({data_brand:o}),t.setState({brand:o[0].brand_name}),t.setState({brand_code:o[0].brand_code})}else t.setErrorMsg(e.data.msg)}))}else t.setErrorMsg(e.data.msg)}))}},{key:\"onSearchAgentCode\",value:function(e){return console.log(\"get Agent Code\"),this.state.data_member.filter((function(t){return t.mem_username==e})).map((function(e,t){return e.agent_code}))}},{key:\"handleResetSubmit\",value:function(){f.a.push(\"/wallets\")}},{key:\"SearchAgent_LineUp\",value:function(e){return console.log(\"get agent_code\"),this.state.data_agent.filter((function(t){return t.agent_code==e})).map((function(e,t){return e.agent_lineup}))}},{key:\"SearchAgent_LineUp2\",value:function(e,t){console.log(\"get agent_code\");var a=e.filter((function(e){return e.agent_code==t}));return console.log(\"agents : \"+JSON.stringify(a)),a.map((function(e,t){return e.agent_lineup}))}},{key:\"handleSubmit\",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"\"===this.state.agent_code||\"\"===this.state.brand_code||\"\"===this.state.game_username||\"\"===this.state.game_password||\"\"===this.state.credit){e.next=20;break}return t={agent_code:this.state.agent_code,mem_username:this.state.mem,brand_code:this.state.brand_code,game_username:this.state.game_username,game_password:this.state.game_password},e.next=5,S.i.editWallets(t,this.state.walletid);case 5:if(a=e.sent,console.log(\"res : \"+a.data),2e3!==a.data.status){e.next=16;break}return n={mem_balance:this.state.credit},e.next=11,S.f.editMember(n,this.state.mem);case 11:r=e.sent,console.log(\"res : \"+r.data),2e3===r.data.status?(console.log(\"Edit Member : \"+this.state.mem+\" wallets Successfully!!!\"),this.dialog.show({title:\"Slot Admin information\",body:\"Edit Member : \"+this.state.mem+\" wallets to system is successfully.\",actions:[w.a.OKAction((function(){f.a.push(\"/wallets\")}))]})):(this.dialog.showAlert(r.data.message),this.setErrorMsg(r.data.msg)),e.next=18;break;case 16:this.dialog.showAlert(a.data.message),this.setErrorMsg(a.data.msg);case 18:e.next=21;break;case 20:this.dialog.showAlert(\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e43\\u0e2a\\u0e48\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25\\u0e43\\u0e2b\\u0e49\\u0e04\\u0e23\\u0e1a \\u0e01\\u0e48\\u0e2d\\u0e19\\u0e01\\u0e14\\u0e1b\\u0e38\\u0e48\\u0e21 Save!\");case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(0),this.dialog.showAlert(e.t0),console.error(\"An unexpected error happened occurred:\",e.t0),this.setErrorMsg(e.t0.message);case 28:case\"end\":return e.stop()}}),e,this,[[0,23]])})));return function(){return e.apply(this,arguments)}}()},{key:\"handleSelectChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({rolename:e.target.value});var t=this.onSearchLevel(e.target.value);this.setState({role:t,user_level:t})}},{key:\"handleToggleChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({user_enable:e.target.value})}},{key:\"setErrorMsg\",value:function(e){console.log(e),this.setState({errorMessage:e})}},{key:\"componentDidMount\",value:function(){var e=this;_.a.get(\"user\")||f.a.push(\"/\"),S.i.getWalletsFromId(_.a.get(\"walletid\")).then((function(t){console.log(t.data);var a=t.data,n=a.data;if(2e3===a.status){console.log(\"data length : \"+n.length);var s=n[0],r=s.mem_username,o=s.brand_code,i=s.game_username,l=s.game_password,c=s.agent_code;e.setState({mem:r,brand_code:o,game_username:i,game_password:l,agent_code:c}),S.f.getBalance(r).then((function(t){console.log(\"res : \"+JSON.stringify(t.data));var a=t.data,n=a.data;if(2e3===a.status){var s=n.mem_balance;e.setState({credit:s})}else e.setErrorMsg(t.data.msg)})).catch((function(t){e.setErrorMsg(t)}))}else e.setErrorMsg(t.data.msg)})).catch((function(t){e.setErrorMsg(t)}))}},{key:\"render\",value:function(){var e=this;y(\"div\",{className:\"toggle-switch\"},y(\"input\",{type:\"checkbox\",\"data-toggle\":\"toggle\",\"data-on\":\"Ready\",\"data-off\":\"Not Ready\",\"data-onstyle\":\"success\",\"data-offstyle\":\"danger\"}));return y(m.a,{contentTitle:\"Edit Wallets\",contentTitleButton:y(\"i\",{className:\"fa fa-2x fa-money\"}),url:this.props.url},y(\"div\",{className:\"offset-md-0\"},y(\"div\",{className:\"card\"},y(\"div\",{className:\"card-header\"}),y(\"form\",{className:\"form-horizontal\"},y(\"div\",{className:\"card-body\"},y(\"div\",{className:\"form-group\"},y(\"div\",{className:\"col-sm-10\"},y(\"div\",{className:\"input-group mb-3 input-group-sm\"},y(\"div\",{className:\"input-group-prepend\"},y(\"span\",{className:\"input-group-text\"},\"Member\")),y(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex2\",onChange:function(t){return e.setState({mem:t.target.value})},value:this.state.mem,required:!0,disabled:!0})))),y(\"div\",{className:\"form-group\"},y(\"div\",{className:\"col-sm-10\"},y(\"div\",{className:\"input-group mb-3 input-group-sm\"},y(\"div\",{className:\"input-group-prepend\"},y(\"span\",{className:\"input-group-text\"},\"agent code\")),y(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex2\",onChange:function(t){return e.setState({agent_code:t.target.value})},value:this.state.agent_code,required:!0,disabled:!0})))),y(\"div\",{className:\"form-group\"},y(\"div\",{className:\"col-sm-10\"},y(\"div\",{className:\"input-group mb-3 input-group-sm\"},y(\"div\",{className:\"input-group-prepend\"},y(\"span\",{className:\"input-group-text\"},\"brand code\")),y(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex2\",onChange:function(t){return e.setState({brand_code:t.target.value})},value:this.state.brand_code,required:!0,disabled:!0})))),y(\"div\",{className:\"form-group\"},y(\"div\",{className:\"col-sm-10\"},y(\"div\",{className:\"input-group mb-3 input-group-sm\"},y(\"div\",{className:\"input-group-prepend\"},y(\"span\",{className:\"input-group-text\"},\"game username\")),y(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex3\",onChange:function(t){return e.setState({game_username:t.target.value})},value:this.state.game_username,required:!0})))),y(\"div\",{className:\"form-group\"},y(\"div\",{className:\"col-sm-10\"},y(\"div\",{className:\"input-group mb-3 input-group-sm\"},y(\"div\",{className:\"input-group-prepend\"},y(\"span\",{className:\"input-group-text\"},\"game password\")),y(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex4\",onChange:function(t){return e.setState({game_password:t.target.value})},value:this.state.game_password,required:!0})))),y(\"div\",{className:\"form-group\"},y(\"div\",{className:\"col-sm-10\"},y(\"div\",{className:\"input-group mb-3 input-group-sm\"},y(\"div\",{className:\"input-group-prepend\"},y(\"span\",{className:\"input-group-text\"},\"credit\")),y(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex3\",onChange:function(t){return e.setState({credit:t.target.value})},value:this.state.credit,required:!0})))))),y(\"div\",{className:\"card-footer\"},y(\"div\",{className:\"d-inline-block btn-block\"},y(\"button\",{className:\"btn btn-danger\",onClick:this.handleResetSubmit},\"Back\"),y(\"button\",{className:\"btn btn-info float-right\",onClick:this.handleSubmit},\"Save\")))),y(w.a,{ref:function(t){e.dialog=t}})))}}]),a}(p.a.Component)},m5am:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/wallets/edit\",function(){return a(\"Ygeh\")}])},rePB:function(e,t,a){\"use strict\";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,\"a\",(function(){return n}))}},[[\"m5am\",0,2,4,1,3,5,6]]]);","extractedComments":[]}