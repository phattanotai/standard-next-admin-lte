{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{\"8Mjo\":function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return S}));var s=a(\"rePB\"),r=a(\"1OyB\"),l=a(\"vuIU\"),n=a(\"JX7q\"),o=a(\"Ji7U\"),c=a(\"md7G\"),i=a(\"foSv\"),u=a(\"4q6W\"),d=(a(\"YFqc\"),a(\"q1tI\")),p=a.n(d),g=a(\"nOHt\"),m=a.n(g),h=a(\"p46w\"),v=a.n(h),_=a(\"hryD\"),b=a(\"baXo\"),f=a.n(b),y=a(\"AO0C\"),w=p.a.createElement;function N(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return Object(c.a)(this,a)}}var S=function(e){Object(o.a)(a,e);var t=N(a);function a(e){var l,o;return Object(r.a)(this,a),(o=t.call(this,e)).state=(l={id:v.a.get(\"serid\"),ser_code:\"\",brand_code:\"\",agent_code:\"\",ser_api_key:\"\",ser_api_secret:\"\",ser_api_username:\"\",ser_api_password:\"\",startpass_string:\"\",startuser_string:\"\",ser_date:\"\",ser_status:\"\",user_process:\"\",ser_percent:\"\",ser_comm:\"\",last_turn_date:\"\",last_turn_hour:\"\",errorMessage:\"\",data:[],classBadge:\"danger\",servicestatus:\"Off\",pagetotal:0,pagenumber:0,recordtotal:0,rowperpage:10,pagearr:[],startrow:0,endrow:0,searchtxt:\"\"},Object(s.a)(l,\"data\",[]),Object(s.a)(l,\"rawdata\",[]),Object(s.a)(l,\"serid\",v.a.get(\"serid\")),l),o.handleResetSubmit=o.handleResetSubmit.bind(Object(n.a)(o)),o}return Object(l.a)(a,[{key:\"handleResetSubmit\",value:function(){m.a.push(\"/game_service\")}},{key:\"getGamelistFromBrand\",value:function(e){var t=this;_.c.listGamesFromBrand(e).then((function(e){console.log(e.data);var a=e.data,s=a.data;if(2e3===a.status){console.log(\"data game list length : \"+s.length),t.setState({data:s}),t.setState({rawdata:s});var r=Math.floor(s.length/t.state.rowperpage);s.length%t.state.rowperpage>0&&r++;var l,n=[];for(l=0;l<r;l++)n.push(l+1);var o=0*t.state.rowperpage,c=o+t.state.rowperpage;t.setState({recordtotal:s.length,pagetotal:r,pagenumber:1,pagearr:n,startrow:o,endrow:c})}else t.setErrorMsg(e.data.msg)}))}},{key:\"handleSelectRowPerPageChange\",value:function(e){e.preventDefault(),console.log(\"e.target.value :\"+e.target.value),this.setState({rowperpage:e.target.value});var t=Math.floor(this.state.recordtotal/e.target.value);console.log(\"pagetotal : \"+t);var a=this.state.recordtotal%e.target.value;console.log(\"num : \"+a),a>0&&t++;var s,r=[];for(s=0;s<t;s++)r.push(s+1);console.log(\"arr : \"+r);var l=0*e.target.value,n=l+e.target.value;this.setState({pagearr:[]}),console.log(\"startrow : \"+l),console.log(\"endrow : \"+n),this.setState({data:this.state.data,pagetotal:t,pagenumber:1,pagearr:r,startrow:l,endrow:n}),this.forceUpdate()}},{key:\"handleSelectPageNumberChange\",value:function(e){e.preventDefault(),this.setState({pagenumber:e.target.value});var t=(e.target.value-1)*this.state.rowperpage,a=t+this.state.rowperpage;this.setState({startrow:t,endrow:a})}},{key:\"onConfirmClick\",value:function(){this.dialog.show({title:\"Spiderbot confirm\",body:\"Are you sure?\",actions:[f.a.CancelAction((function(){dialog.hide()})),f.a.OKAction((function(){}))],bsSize:\"small\",onHide:function(e){e.hide(),console.log(\"closed by clicking background.\")}})}},{key:\"handleSelectChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({rolename:e.target.value})}},{key:\"setErrorMsg\",value:function(e){console.log(e),this.setState({errorMessage:e})}},{key:\"componentDidMount\",value:function(){var e=this;v.a.get(\"user\")||m.a.push(\"/\"),_.d.getService(this.state.id).then((function(t){console.log(t.data);var a=t.data,s=a.data;if(2e3===a.status){var r=s[0],l=r.ser_code,n=r.brand_code,o=r.agent_code,c=r.ser_api_key,i=r.ser_api_secret,u=r.ser_api_username,d=r.ser_api_password,p=r.startpass_string,g=r.startuser_string,h=r.ser_date,_=r.user_process,b=r.ser_percent,f=r.ser_comm,y=r.last_turn_date,w=r.last_turn_hour,N=r.ser_status,S=\"0\",k=\"0\";\"\"!=b&&(S=b.$numberDecimal),\"\"!=f&&(k=f.$numberDecimal),e.setState({ser_code:l,brand_code:n,agent_code:o,ser_api_key:c,ser_api_secret:i,ser_api_username:u,ser_api_password:d,startpass_string:p,startuser_string:g,ser_date:h,user_process:_,ser_percent:S,ser_comm:k,last_turn_date:y,last_turn_hour:w,ser_status:N});var O=v.a.get(\"ser_brandname\");console.log(\"brand name 417=> \"+O),e.setState({brand:O}),e.getGamelistFromBrand(O),\"On\"==N?e.setState({classBadge:\"success\",servicestatus:\"On\"}):e.setState({classBadge:\"danger\",servicestatus:\"Off\"})}else e.setErrorMsg(t.data.msg),m.a.push(\"/game_service\")}))}},{key:\"render\",value:function(){var e=this;return w(u.a,{contentTitle:\"Agent Description\",contentTitleButton:w(\"i\",{className:\"fa fa-2x fa-id-badge\"}),url:this.props.url},w(\"div\",{className:\"row\"},w(\"div\",{className:\"col-6\"},w(\"div\",{className:\"card\"},w(\"div\",{className:\"card-header\"}),w(\"div\",{className:\"col-12\"},w(\"div\",{className:\"card-body table-responsive p-0\"},w(\"table\",{className:\"table table-hover \"},w(\"thead\",null,w(\"tr\",null,w(\"th\",null,w(\"h5\",null,\"ITEMS\")),w(\"th\",null,w(\"h5\",null,\"DESCRIPTION\")))),w(\"tbody\",null,w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Service Status\")),w(\"td\",{className:\"py-1\"},w(\"label\",{className:\"badge badge-\".concat(this.state.classBadge)},this.state.ser_status),\" \")),w(\"tr\",null,w(\"td\",{className:\"py-1 \"},w(\"h5\",null,\"Brand code\")),w(\"td\",{className:\"py-1\"},this.state.brand_code)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Agent Code\")),w(\"td\",{className:\"py-1\"},this.state.agent_code)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Service API Key\")),w(\"td\",{className:\"py-1\"},this.state.ser_api_key)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Service API Secret\")),w(\"td\",{className:\"py-1\"},this.state.ser_api_secret)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Service API Username\")),w(\"td\",{className:\"py-1\"},this.state.ser_api_username)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Service API Password\")),w(\"td\",{className:\"py-1\"},this.state.ser_api_password)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Start User String\")),w(\"td\",{className:\"py-1\"},this.state.startuser_string)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Start Password String\")),w(\"td\",{className:\"py-1\"},this.state.startpass_string)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"User Process\")),w(\"td\",{className:\"py-1\"},this.state.user_process)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Service Percent\")),w(\"td\",{className:\"py-1\"},this.state.ser_percent)),w(\"tr\",null,w(\"td\",{className:\"py-1\"},w(\"h5\",null,\"Service Commission\")),w(\"td\",{className:\"py-1\"},this.state.ser_comm)))))),w(\"div\",{className:\"card-footer\"},w(\"div\",{className:\"bt-tb-page\"},w(\"button\",{className:\"btn btn-danger w-25\",onClick:this.handleResetSubmit},\"Back\"))))),w(\"div\",{className:\"col-6\"},w(\"div\",{className:\"card\"},w(\"div\",{className:\"card-header\"},w(y.c,null,w(\"div\",{className:\"wrapper\"},w(\"h4\",null,\" Games List for brand : \",this.state.brand,\" \"),w(\"div\",{className:\"wrapper\"},w(\"div\",{className:\"w-auto h-25 p-3  d-inline-block\"},\"Row per page\",w(\"select\",{id:\"select-1\",className:\"form-control\",value:this.state.rowperpage,onChange:this.handleSelectRowPerPageChange},w(\"option\",{value:\"10\"},\"10\"),w(\"option\",{value:\"15\"},\"15\"),w(\"option\",{value:\"20\"},\"20\"),w(\"option\",{value:\"25\"},\"25\"),w(\"option\",{value:\"30\"},\"30\"),w(\"option\",{value:\"35\"},\"35\"),w(\"option\",{value:\"40\"},\"40\"),w(\"option\",{value:\"45\"},\"45\"),w(\"option\",{value:\"50\"},\"50\"))),w(\"div\",{className:\"w-auto h-25 p-3  d-inline-block\"},\"PageNumber\",w(\"select\",{id:\"select-1\",className:\"form-control\",value:this.state.pagenumber,onChange:this.handleSelectPageNumberChange},this.state.pagearr.map((function(e,t){return w(\"option\",{value:e,key:t},e)})))),w(\"div\",{className:\"card-tools d-inline-block\"},w(\"div\",{className:\"input-group input-group-sm\",style:{width:\"100%\"}},w(\"input\",{type:\"text\",name:\"table_search\",className:\"form-control float-right\",placeholder:\"Search\",onChange:function(t){e.setState({searchtxt:t.target.value});var a=t.target.value,s=e.state.rawdata.length;\"\"!=a?(e.setState({data:e.state.rawdata.filter((function(e){return-1!==e.brand_name.indexOf(a)}))}),s=e.state.rawdata.filter((function(e){return-1!==e.brand_name.indexOf(a)})).length):e.setState({data:e.state.rawdata});var r=Math.floor(s/e.state.rowperpage);s%e.state.rowperpage>0&&r++;var l,n=[];for(l=0;l<r;l++)n.push(l+1);var o=0*e.state.rowperpage,c=o+e.state.rowperpage;e.setState({recordtotal:s,pagetotal:r,pagenumber:1,pagearr:n,startrow:o,endrow:c})},value:this.state.searchtxt}),w(\"div\",{className:\"input-group-append\"},w(\"button\",{className:\"btn btn-default\"},w(\"i\",{className:\"fa fa-search\",onClick:this.onSearchClick}))))))))),w(\"div\",{className:\"card-body table-responsive p-0\"},w(\"table\",{className:\"table table-hover\"},w(\"thead\",null,w(\"tr\",null,w(\"th\",null,\"Status\"),w(\"th\",null,\"Image\"),w(\"th\",null,\"Code\"),w(\"th\",null,\"Name\"),w(\"th\",null,\"Type\"))),w(\"tbody\",null,this.state.data.map((function(t,a){var s=\"danger\",r=\"disable\";if(1==t.game_status&&(s=\"success\",r=\"enable\"),a>=e.state.startrow&&a<e.state.endrow)return w(\"tr\",{key:a},w(\"td\",{className:\"py-1\"},w(\"label\",{className:\"badge badge-info\",style:{display:\"Yes\"===t.game_new?\"block\":\"none\"}},\"new\"),\" \",w(\"label\",{className:\"badge badge-\".concat(s),style:{display:\"block\"}},r)),w(\"td\",{className:\"py-1\"},w(\"img\",{src:t.game_img?_.e.imageshow(t.game_img):_.e.imageshow(\"1594692624651-no-image-available.png\"),style:{flex:1,width:\"80px\",height:null,resizeMode:\"contain\"}})),w(\"td\",{className:\"py-1\"},t.game_code),w(\"td\",{className:\"py-1\"},t.game_name),w(\"td\",{className:\"py-1\"},t.game_type))}))))))),w(f.a,{ref:function(t){e.dialog=t}})))}}]),a}(p.a.Component)},SbL1:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/game_service/description\",function(){return a(\"8Mjo\")}])},rePB:function(e,t,a){\"use strict\";function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,\"a\",(function(){return s}))}},[[\"SbL1\",0,2,4,8,1,3,5,7]]]);","extractedComments":[]}