{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{LQrL:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/wallets/add\",function(){return a(\"yG5L\")}])},rePB:function(e,t,a){\"use strict\";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,\"a\",(function(){return n}))},yG5L:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return k}));var n=a(\"o0o1\"),s=a.n(n),r=a(\"HaE+\"),o=a(\"1OyB\"),l=a(\"vuIU\"),c=a(\"JX7q\"),d=a(\"Ji7U\"),i=a(\"md7G\"),u=a(\"foSv\"),g=a(\"rePB\"),m=a(\"4q6W\"),h=(a(\"YFqc\"),a(\"q1tI\")),b=a.n(h),f=a(\"nOHt\"),p=a.n(f),v=a(\"p46w\"),_=a.n(v),S=a(\"hryD\"),N=a(\"baXo\"),y=a.n(N),w=b.a.createElement;function C(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var s=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Object(i.a)(this,a)}}var k=function(e){Object(d.a)(a,e);var t=C(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),Object(g.a)(Object(c.a)(n),\"handleSwitchChange\",(function(e){return function(){var t=\"switch\".concat(e);n.setState(Object(g.a)({},t,!n.state[t]))}})),n.state={user_name:\"\",user_email:\"\",user_pass:\"\",add_date:\"\",user_level:\"3\",user_status:\"\",switch1:!0,errorMessage:\"\",datas:[],role_data:[],mydatas:{},value:\"Master\",data_service:[],data_agent:[],data_brand:[],data_member:[],brand:\"\",mem:\"\",agent:\"\",isDownLine:!1,game_username:\"\",game_password:\"\",agent_code:\"\",brand_code:\"\",credit:\"0\"},n.handleSelectChange=n.handleSelectChange.bind(Object(c.a)(n)),n.handleToggleChange=n.handleToggleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.setErrorMsg=n.setErrorMsg.bind(Object(c.a)(n)),n.handleResetSubmit=n.handleResetSubmit.bind(Object(c.a)(n)),n.onSearchAgentCode=n.onSearchAgentCode.bind(Object(c.a)(n)),n.handleSelectMemberChange=n.handleSelectMemberChange.bind(Object(c.a)(n)),n.handleSelectBrandChange=n.handleSelectBrandChange.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:\"handleSelectBrandChange\",value:function(e){e.preventDefault(),console.log(\"e.target.value =>\"+e.target.value),this.setState({brand:e.target.value})}},{key:\"handleSelectMemberChange\",value:function(e){var t=this;e.preventDefault(),console.log(\"e.target.value =>\"+e.target.value);var a=this.onSearchAgentCode(e.target.value)[0];this.setState({mem:e.target.value,agent_code:a}),S.b.listBrands().then((function(e){console.log(e.data);var n=e.data,s=n.data;if(2e3===n.status){console.log(\"data length : \"+s.length);var r=s,o=t.SearchAgent_LineUp(a)[0];console.log(\"agent_lineup =>\"+o),console.log(\"agent_code =>\"+a),_.a.set(\"serviceagent\",a);var l=\"\";\"\"===o||\"-\"===o?(t.setState({isDownLine:!1}),l=a):(t.setState({isDownLine:!0}),l=o),S.d.listServiceFromAgent(l).then((function(e){console.log(e.data);var a=e.data,n=a.data;if(2e3===a.status){console.log(\"data service length : \"+n.length),t.setState({data_service:n});var s,o=[];for(s=0;s<n.length;s++){var l=r.filter((function(e){return e.brand_code==n[s].brand_code})).map((function(e,t){return e.brand_name}));console.log(\"brand_name : \"+l[0]),o.push({brand_name:l[0],brand_code:n[s].brand_code})}console.log(\"data_brand : \"+JSON.stringify(o)),t.setState({data_brand:o}),t.setState({brand:o[0].brand_name}),t.setState({brand_code:o[0].brand_code})}else t.setErrorMsg(e.data.msg)}))}else t.setErrorMsg(e.data.msg)}))}},{key:\"onSearchAgentCode\",value:function(e){return console.log(\"get Agent Code\"),this.state.data_member.filter((function(t){return t.mem_username==e})).map((function(e,t){return e.agent_code}))}},{key:\"handleResetSubmit\",value:function(){p.a.push(\"/wallets\")}},{key:\"SearchAgent_LineUp\",value:function(e){return console.log(\"get agent_code\"),this.state.data_agent.filter((function(t){return t.agent_code==e})).map((function(e,t){return e.agent_lineup}))}},{key:\"SearchAgent_LineUp2\",value:function(e,t){console.log(\"get agent_code\");var a=e.filter((function(e){return e.agent_code==t}));return console.log(\"agents : \"+JSON.stringify(a)),a.map((function(e,t){return e.agent_lineup}))}},{key:\"handleSubmit\",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"\"===this.state.agent_code||\"\"===this.state.brand_code||\"\"===this.state.game_username||\"\"===this.state.game_password||\"\"===this.state.credit){e.next=20;break}return t={agent_code:this.state.agent_code,mem_username:this.state.mem,brand_code:this.state.brand_code,game_username:this.state.game_username,game_password:this.state.game_password},e.next=5,S.i.createWallets(t);case 5:if(a=e.sent,console.log(\"res : \"+a.data),2e3!==a.data.status){e.next=16;break}return n={mem_balance:this.state.credit},e.next=11,S.f.deposit(n,this.state.mem);case 11:r=e.sent,console.log(\"res : \"+r.data),2e3===r.data.status?(console.log(\"Add Member : \"+this.state.mem+\" wallets Successfully!!!\"),this.dialog.show({title:\"Slot Admin information\",body:\"Add Member : \"+this.state.mem+\" wallets to system is successfully.\",actions:[y.a.OKAction((function(){p.a.push(\"/wallets\")}))]})):(this.dialog.showAlert(r.data.message),this.setErrorMsg(r.data.msg)),e.next=18;break;case 16:this.dialog.showAlert(a.data.message),this.setErrorMsg(a.data.msg);case 18:e.next=21;break;case 20:this.dialog.showAlert(\"\\u0e01\\u0e23\\u0e38\\u0e13\\u0e32\\u0e43\\u0e2a\\u0e48\\u0e02\\u0e49\\u0e2d\\u0e21\\u0e39\\u0e25\\u0e43\\u0e2b\\u0e49\\u0e04\\u0e23\\u0e1a \\u0e01\\u0e48\\u0e2d\\u0e19\\u0e01\\u0e14\\u0e1b\\u0e38\\u0e48\\u0e21 Save!\");case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(0),this.dialog.showAlert(e.t0),console.error(\"An unexpected error happened occurred:\",e.t0),this.setErrorMsg(e.t0.message);case 28:case\"end\":return e.stop()}}),e,this,[[0,23]])})));return function(){return e.apply(this,arguments)}}()},{key:\"handleSelectChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({rolename:e.target.value});var t=this.onSearchLevel(e.target.value);this.setState({role:t,user_level:t})}},{key:\"handleToggleChange\",value:function(e){console.log(\"e.target.value :\"+e.target.value),this.setState({user_enable:e.target.value})}},{key:\"setErrorMsg\",value:function(e){console.log(e),this.setState({errorMessage:e})}},{key:\"componentDidMount\",value:function(){var e=this;_.a.get(\"user\")||p.a.push(\"/\"),S.f.listMember().then((function(t){console.log(t.data);var a=t.data,n=a.data;if(2e3===a.status){if(console.log(\"data length : \"+n.length),e.setState({data_member:n}),n.length>0){var s=n[0],r=s.mem_name,o=s.agent_code;e.setState({mem:r,agent_code:o}),console.log(\"Brand name:\"+r),console.log(\"agent_code:\"+o),S.b.listBrands().then((function(t){console.log(t.data);var a=t.data,n=a.data;if(2e3===a.status){console.log(\"data length : \"+n.length);var s=n;S.a.listAgent().then((function(t){console.log(t.data);var a=t.data,n=a.data;if(2e3===a.status){console.log(\"data agent length : \"+n.length),console.log(\"data agent : \"+JSON.stringify(n)),e.setState({data_agent:n});var r=e.SearchAgent_LineUp2(n,o)[0];console.log(\"agent_lineup =>\"+r),console.log(\"agent_code =>\"+o),_.a.set(\"serviceagent\",o),\"\"===r||\"-\"===r?(e.setState({isDownLine:!1}),S.d.listServiceFromAgent(o).then((function(t){console.log(t.data);var a=t.data,n=a.data;if(2e3===a.status){console.log(\"data length : \"+n.length),e.setState({data_service:n});var r,o=[];for(r=0;r<n.length;r++){var l=s.filter((function(e){return e.brand_code==n[r].brand_code})).map((function(e,t){return e.brand_name}));console.log(\"brand_name : \"+l[0]),o.push({brand_name:l[0],brand_code:n[r].brand_code})}console.log(\"data_brand : \"+JSON.stringify(o)),e.setState({data_brand:o}),e.setState({brand:o[0].brand_name}),e.setState({brand_code:o[0].brand_code})}else e.setErrorMsg(t.data.msg)}))):(e.setState({isDownLine:!0}),S.d.listServiceFromAgent(r).then((function(t){console.log(t.data);var a=t.data,n=a.data;if(2e3===a.status){console.log(\"data service length : \"+n.length),e.setState({data_service:n});var r,o=[];for(r=0;r<n.length;r++){var l=s.filter((function(e){return e.brand_code==n[r].brand_code})).map((function(e,t){return e.brand_name}));console.log(\"brand_name : \"+l[0]),o.push({brand_name:l[0],brand_code:n[r].brand_code})}console.log(\"data_brand : \"+JSON.stringify(o)),e.setState({data_brand:o}),e.setState({brand:o[0].brand_name}),e.setState({brand_code:o[0].brand_code})}else e.setErrorMsg(t.data.msg)})))}}))}else e.setErrorMsg(t.data.msg)}))}_.a.get(\"brand\")&&e.setState({brand:_.a.get(\"brand\")})}else e.setErrorMsg(t.data.msg)}))}},{key:\"render\",value:function(){var e=this;w(\"div\",{className:\"toggle-switch\"},w(\"input\",{type:\"checkbox\",\"data-toggle\":\"toggle\",\"data-on\":\"Ready\",\"data-off\":\"Not Ready\",\"data-onstyle\":\"success\",\"data-offstyle\":\"danger\"}));return w(m.a,{contentTitle:\"Add Wallets\",contentTitleButton:w(\"i\",{className:\"fa fa-2x fa-money\"}),url:this.props.url},w(\"div\",{className:\"offset-md-0\"},w(\"div\",{className:\"card\"},w(\"div\",{className:\"card-header\"}),w(\"form\",{className:\"form-horizontal\"},w(\"div\",{className:\"card-body\"},w(\"div\",{className:\"form-group row\"},w(\"div\",{className:\"col-sm-5\"},w(\"label\",{htmlFor:\"select-1\",className:\"col-sm-12 control-label\"},\"Select Member\"),w(\"div\",{className:\"col-sm-offset-2 col-sm-12\"},w(\"select\",{id:\"select-3\",className:\"form-control\",value:this.state.mem,onChange:this.handleSelectMemberChange},this.state.data_member.map((function(e,t){return w(\"option\",{value:e.mem_username,key:t},e.mem_username)}))))),w(\"div\",{className:\"col-sm-5\"},w(\"label\",{htmlFor:\"select-1\",className:\"col-sm-12 control-label\"},\"\\xa0\"),w(\"div\",{className:\"input-group mb-3 input-group-sm\"},w(\"div\",{className:\"input-group-prepend\"},w(\"span\",{className:\"input-group-text\"},\"agent code\")),w(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex2\",onChange:function(t){return e.setState({agent_code:t.target.value})},value:this.state.agent_code,required:!0,disabled:!0})))),w(\"div\",{className:\"form-group row\"},w(\"div\",{className:\"col-sm-5\"},w(\"label\",{htmlFor:\"select-1\",className:\"col-sm-12 control-label\"},\"Select Brand\"),w(\"div\",{className:\"col-sm-offset-2 col-sm-12\"},w(\"select\",{id:\"select-3\",className:\"form-control\",value:this.state.brand,onChange:this.handleSelectBrandChange},this.state.data_brand.map((function(e,t){return w(\"option\",{value:e.brand_name,key:t},e.brand_name)}))))),w(\"div\",{className:\"col-sm-5\"},w(\"label\",{htmlFor:\"select-1\",className:\"col-sm-12 control-label\"},\"\\xa0\"),w(\"div\",{className:\"input-group mb-3 input-group-sm\"},w(\"div\",{className:\"input-group-prepend\"},w(\"span\",{className:\"input-group-text\"},\"brand code\")),w(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex2\",onChange:function(t){return e.setState({brand_code:t.target.value})},value:this.state.brand_code,required:!0,disabled:!0})))),w(\"div\",{className:\"form-group\"},w(\"div\",{className:\"col-sm-10\"},w(\"div\",{className:\"input-group mb-3 input-group-sm\"},w(\"div\",{className:\"input-group-prepend\"},w(\"span\",{className:\"input-group-text\"},\"game username\")),w(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex3\",onChange:function(t){return e.setState({game_username:t.target.value})},value:this.state.game_username,required:!0})))),w(\"div\",{className:\"form-group\"},w(\"div\",{className:\"col-sm-10\"},w(\"div\",{className:\"input-group mb-3 input-group-sm\"},w(\"div\",{className:\"input-group-prepend\"},w(\"span\",{className:\"input-group-text\"},\"game password\")),w(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex4\",onChange:function(t){return e.setState({game_password:t.target.value})},value:this.state.game_password,required:!0})))),w(\"div\",{className:\"form-group\"},w(\"div\",{className:\"col-sm-10\"},w(\"div\",{className:\"input-group mb-3 input-group-sm\"},w(\"div\",{className:\"input-group-prepend\"},w(\"span\",{className:\"input-group-text\"},\"credit\")),w(\"input\",{type:\"text\",className:\"form-control \",id:\"validation-ex3\",onChange:function(t){return e.setState({credit:t.target.value})},value:this.state.credit,required:!0})))))),w(\"div\",{className:\"card-footer\"},w(\"div\",{className:\"d-inline-block btn-block\"},w(\"button\",{className:\"btn btn-danger\",onClick:this.handleResetSubmit},\"Back\"),w(\"button\",{className:\"btn btn-info float-right\",onClick:this.handleSubmit},\"Save\")))),w(y.a,{ref:function(t){e.dialog=t}})))}}]),a}(b.a.Component)}},[[\"LQrL\",0,2,4,1,3,5,6]]]);","extractedComments":[]}