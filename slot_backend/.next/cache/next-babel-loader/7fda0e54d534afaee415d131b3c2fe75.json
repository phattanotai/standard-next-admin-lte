{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n//import \"../styles/styles.scss\"\nimport React, { useState } from \"react\";\nimport Router from \"next/router\";\nimport Cookies from \"js-cookie\";\nimport { useUser } from \"../components/functions/useUser\";\nimport { ServiceUser } from \"../service\";\nimport { ServiceImage } from \"../service\"; //import Dialog from 'react-bootstrap-dialog';\n\nexport default _s(function () {\n  _s();\n\n  useUser('/', true);\n\n  var _useState = useState({\n    username: \"\",\n    password: \"\"\n  }),\n      auth = _useState[0],\n      setAuth = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      errorMessage = _useState2[0],\n      setErrorMsg = _useState2[1];\n\n  var _useState3 = useState(false),\n      show = _useState3[0],\n      setShow = _useState3[1]; //let dialog;\n\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var _this = this;\n\n      var res, data, levelId;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              if (errorMessage) setErrorMsg(\"\");\n              _context.prev = 2;\n              _context.next = 5;\n              return ServiceUser.login(auth);\n\n            case 5:\n              res = _context.sent;\n              console.log(\"login : \" + auth);\n\n              if (res.data.status === 2000) {\n                data = res.data.data;\n                console.log(\"res data id=> \" + data.id);\n                Cookies.set(\"userid\", data.id);\n                Cookies.set(\"user\", auth.username);\n                levelId = data.level;\n                ServiceUser.listSystemRole().then(function (res) {\n                  console.log(res.data);\n                  var _res$data = res.data,\n                      data = _res$data.data,\n                      status = _res$data.status;\n                  var data_role = data;\n\n                  if (status === 2000) {\n                    ServiceUser.listMenu().then(function (res) {\n                      console.log(res.data);\n                      var _res$data2 = res.data,\n                          data = _res$data2.data,\n                          status = _res$data2.status;\n\n                      if (status === 2000) {\n                        var i;\n                        var perm_arr = [];\n\n                        for (i = 0; i < data_role.length; i++) {\n                          if (data_role[i].user_level_id == levelId) {\n                            console.log('user role : ' + data_role[i].user_level_name);\n                            console.log('user perm : ' + data_role[i].user_level_permission);\n                            var perm = data_role[i].user_level_permission;\n\n                            if (perm) {\n                              perm_arr = perm.split('-');\n                            }\n                          }\n                        }\n\n                        console.log('data length : ' + data.length);\n                        console.log('perm length : ' + perm_arr.length);\n\n                        if (data.length == perm_arr.length) {\n                          var j;\n\n                          for (j = 0; j < data.length; j++) {\n                            console.log('perm [' + j + ']: ' + Number(perm_arr[j]));\n                            Cookies.set(data[j].menu_name.split(' ').join(''), Number(perm_arr[j]));\n                            console.log('menu ' + data[j].menu_name.split(' ').join('') + ':' + Cookies.get(data[j].menu_name.split(' ').join('')));\n                          }\n                        } else {\n                          var j;\n\n                          for (j = 0; j < data.length; j++) {\n                            if (j >= perm_arr.length) {}\n\n                            console.log('perm [' + j + ']: ' + Number(perm_arr[j]));\n                            Cookies.set(data[j].menu_name.split(' ').join(''), Number(perm_arr[j]));\n                            console.log('menu ' + data[j].menu_name.split(' ').join('') + ':' + Cookies.get(data[j].menu_name.split(' ').join('')));\n                          }\n                        }\n\n                        console.log(\"go to admin page\");\n                        Router.push(\"/admin\", {\n                          data: data\n                        });\n                      } else {\n                        _this.setErrorMsg(res.data.msg);\n                      }\n                    });\n                  } else {\n                    _this.setErrorMsg(res.data.msg);\n                  }\n                });\n              } else {\n                console.log(res);\n                setErrorMsg(res.data.message + '!!!');\n                setShow(true); //this.dialog.showAlert(res_role.data.msg);\n              }\n\n              _context.next = 14;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.error(\"An unexpected error happened occurred:\", _context.t0);\n              setErrorMsg(_context.t0.message); //this.dialog.showAlert(error.message);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    id: \"login\",\n    className: \"login\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    id: \"login-row\",\n    className: \"row justify-content-center align-items-center\"\n  }, __jsx(\"div\", {\n    id: \"login-column\",\n    className: \"col-md-6\"\n  }, __jsx(\"div\", {\n    id: \"login-box\",\n    className: \"col-md-12\"\n  }, __jsx(\"h1\", {\n    className: \"text-center text-white pt-5\"\n  }, \"BigWin\"), __jsx(\"div\", {\n    className: \"form-group text-center\"\n  }, __jsx(\"img\", {\n    src: ServiceImage.imageshow('backend_logo.png'),\n    id: \"icon\",\n    alt: \"User Icon\",\n    className: \"logo\"\n  }), __jsx(\"h3\", {\n    className: \"text-center text-white pt-0\"\n  }, \"Web Admin\")), __jsx(\"form\", {\n    id: \"login-form\",\n    className: \"form-group\",\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    className: \"form-control\",\n    placeholder: \"Username\",\n    onChange: function onChange(e) {\n      setAuth({\n        username: e.target.value,\n        password: auth.password\n      });\n      setShow(false);\n    },\n    value: auth.username\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    className: \"form-control\",\n    placeholder: \"Password\",\n    onChange: function onChange(e) {\n      setAuth({\n        password: e.target.value,\n        username: auth.username\n      });\n      setShow(false);\n    },\n    value: auth.password\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"btn btn-info btn-md\",\n    defaultValue: \"submit\"\n  })), show ? __jsx(\"div\", {\n    className: \"p-3 mb-2 bg-danger text-white\"\n  }, errorMessage) : null)))))));\n}, \"jlMDOoJbCPFjv1Fr0txxnoH17OM=\", false, function () {\n  return [useUser];\n});","map":{"version":3,"sources":["D:/WorkSpace/CM/Slot/slot_backend/pages/index.js"],"names":["React","useState","Router","Cookies","useUser","ServiceUser","ServiceImage","username","password","auth","setAuth","errorMessage","setErrorMsg","show","setShow","handleSubmit","e","preventDefault","login","res","console","log","data","status","id","set","levelId","level","listSystemRole","then","data_role","listMenu","i","perm_arr","length","user_level_id","user_level_name","user_level_permission","perm","split","j","Number","menu_name","join","get","push","msg","message","error","imageshow","target","value"],"mappings":"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","sourcesContent":["//import \"../styles/styles.scss\"\r\nimport React, { useState } from \"react\";\r\nimport Router from \"next/router\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useUser } from \"../components/functions/useUser\";\r\nimport { ServiceUser } from \"../service\";\r\nimport { ServiceImage } from \"../service\";\r\n//import Dialog from 'react-bootstrap-dialog';\r\n\r\nexport default () => {\r\n\r\n    useUser('/', true);\r\n    const [auth, setAuth] = useState({ username: \"\", password: \"\" });\r\n    const [errorMessage, setErrorMsg] = useState(\"\");\r\n    const [show, setShow] = useState(false);\r\n    //let dialog;\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (errorMessage) setErrorMsg(\"\");\r\n        try {\r\n            const res = await ServiceUser.login(auth);\r\n            console.log(\"login : \" + auth)\r\n            if (res.data.status === 2000) {\r\n                const { data } = res.data;\r\n                console.log(\"res data id=> \" + data.id);\r\n                Cookies.set(\"userid\", data.id);\r\n                Cookies.set(\"user\", auth.username);\r\n                const levelId = data.level;\r\n\r\n                ServiceUser.listSystemRole().then((res) => {\r\n                    console.log(res.data);\r\n                    const { data, status } = res.data;\r\n                    const data_role = data;\r\n                    if (status === 2000) {\r\n                        ServiceUser.listMenu().then((res) => {\r\n                            console.log(res.data);\r\n                            const { data, status } = res.data;\r\n                            if (status === 2000) {\r\n                                var i;\r\n                                var perm_arr = [];\r\n                                for (i = 0; i < data_role.length; i++) {\r\n                                    if (data_role[i].user_level_id == levelId) {\r\n                                        console.log('user role : ' + data_role[i].user_level_name);\r\n                                        console.log('user perm : ' + data_role[i].user_level_permission);\r\n\r\n                                        var perm = data_role[i].user_level_permission;\r\n                                        if (perm) {\r\n                                            perm_arr = perm.split('-');\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                                console.log('data length : ' + data.length);\r\n                                console.log('perm length : ' + perm_arr.length);\r\n\r\n                                if (data.length == perm_arr.length) {\r\n                                    var j;\r\n\r\n                                    for (j = 0; j < data.length; j++) {\r\n                                        console.log('perm [' + j + ']: ' + Number(perm_arr[j]));\r\n                                        Cookies.set(data[j].menu_name.split(' ').join(''), Number(perm_arr[j]));\r\n                                        console.log('menu ' + data[j].menu_name.split(' ').join('') + ':' + Cookies.get(data[j].menu_name.split(' ').join('')));\r\n                                    }\r\n                                } else {\r\n                                    var j;\r\n\r\n                                    for (j = 0; j < data.length; j++) {\r\n                                        if (j >= perm_arr.length) {\r\n                                            \r\n                                        }\r\n                                        console.log('perm [' + j + ']: ' + Number(perm_arr[j]));\r\n                                        Cookies.set(data[j].menu_name.split(' ').join(''), Number(perm_arr[j]));\r\n                                        console.log('menu ' + data[j].menu_name.split(' ').join('') + ':' + Cookies.get(data[j].menu_name.split(' ').join('')));\r\n                                    }\r\n                                }\r\n                                console.log(\"go to admin page\");\r\n                                Router.push(\"/admin\", { data: data });\r\n                            } else {\r\n                                this.setErrorMsg(res.data.msg);\r\n                            }\r\n                        });\r\n\r\n                    } else {\r\n                        this.setErrorMsg(res.data.msg);\r\n                    }\r\n                });\r\n\r\n\r\n\r\n            } else {\r\n                console.log(res);\r\n                setErrorMsg(res.data.message + '!!!');\r\n                setShow(true);\r\n                //this.dialog.showAlert(res_role.data.msg);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"An unexpected error happened occurred:\", error);\r\n            setErrorMsg(error.message);\r\n            //this.dialog.showAlert(error.message);\r\n        }\r\n    }\r\n    return (\r\n\r\n        <>\r\n            {/* <div><Dialog ref={(el) => { this.dialog = el }} /></div> \r\n            <MyDialog />*/}\r\n            <div id=\"login\" className=\"login\">\r\n\r\n                <div className=\"container\">\r\n                    <div id=\"login-row\" className=\"row justify-content-center align-items-center\">\r\n                        <div id=\"login-column\" className=\"col-md-6\">\r\n                            <div id=\"login-box\" className=\"col-md-12\">\r\n                                <h1 className=\"text-center text-white pt-5\">BigWin</h1>\r\n                                <div className=\"form-group text-center\">\r\n                                    {/* <img src=\"../backend_logo.png\" id=\"icon\" alt=\"User Icon\" className=\"logo\" /> */}\r\n                                    <img src={ServiceImage.imageshow('backend_logo.png')} id=\"icon\" alt=\"User Icon\" className=\"logo\" />\r\n                                    <h3 className=\"text-center text-white pt-0\">Web Admin</h3>\r\n                                </div>\r\n\r\n                                <form id=\"login-form\" className=\"form-group\" onSubmit={handleSubmit}>\r\n                                    {/* <span className=\"brand-text font-weight-light fa fa-key fa-2x brand-image ml-2\">\r\n                                        <h3 className=\"text-center text-info\">Login : </h3>\r\n                                    </span> */}\r\n                                    <div className=\"form-group\">\r\n                                        <input type=\"text\" name=\"username\" id=\"username\" className=\"form-control\"\r\n                                            placeholder=\"Username\"\r\n                                            onChange={(e) => {\r\n                                                setAuth({\r\n                                                    username: e.target.value,\r\n                                                    password: auth.password,\r\n                                                });\r\n                                                setShow(false);\r\n                                            }\r\n                                            }\r\n                                            value={auth.username}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <input type=\"password\" name=\"password\" id=\"password\" className=\"form-control\"\r\n                                            placeholder=\"Password\"\r\n                                            onChange={(e) => {\r\n                                                setAuth({\r\n                                                    password: e.target.value,\r\n                                                    username: auth.username,\r\n                                                });\r\n                                                setShow(false);\r\n                                            }\r\n                                            }\r\n                                            value={auth.password}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <input type=\"submit\" name=\"submit\" className=\"btn btn-info btn-md\" defaultValue=\"submit\" />\r\n                                    </div>\r\n                                    {\r\n                                        show ? <div className=\"p-3 mb-2 bg-danger text-white\">{errorMessage}</div> : null\r\n                                    }\r\n\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}